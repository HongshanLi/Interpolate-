<div class="main">

  <div class="signin">
    <h1 *ngIf="!this.entityId" id="title">
      Sign in to Interpolate
    </h1>

    <h1 id="title" *ngIf="this.entityId">
      Sign in to join the {{ entity }} {{ entityName }}
    </h1>

    <div id="signinForm">
      <form [formGroup]="loginForm" (submit)="onLogin()">
        <mat-form-field>
          <input matInput formControlName="identity" placeholder="Username or email">
          <mat-error *ngIf="loginForm.get('identity').invalid">
            Please enter a valid email or username.
          </mat-error>
        </mat-form-field>

        <mat-form-field>
          <input type="password" formControlName="password" matInput placeholder="Password">
          <mat-error *ngIf="loginForm.get('password').invalid">
            Please enter a valid password.
          </mat-error>
        </mat-form-field>
      </form>

      <div>
        <button mat-stroked-button color="primary"
        (click)="onLogin()">Login</button>

        <button mat-stroked-button color="primary"
        style="float:right"
        (click)="showPsdReset=!showPsdReset">
        Forgot password?
        </button>
      </div>

      <p>{{ loginFailureMessage }}</p>

      <div *ngIf="showPsdReset">

        <mat-form-field *ngIf="showPsdReset">
          <input matInput type="email" (keydown.enter)="resetPassword($event)"
          placeholder="Please enter your email and hit enter">
        </mat-form-field>


        <p *ngIf="message" class="text text-info">
          {{ message }}
        </p>
        <!--p> A password reset form has been sent to your email </p-->
      </div>
    </div>
  </div>

  <div class="signup">
    <div>
    <h4 class="text-info">New to Interpolate?</h4>
    <br>
      <button mat-stroked-button color="primary" (click)="navigateToSignUp()">
        Create an Account
      </button>
    </div>
  </div>








</div>
